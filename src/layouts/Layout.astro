---
const {
  title = "Fulcrum Agentics",
  description = "AI agents for real operationsâ€”catalog, pricing, and workflow automation built to integrate, measure, and scale.",
} = Astro.props;

import ThemeSwitcher from "@/components/ThemeSwitcher.astro";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    {description && <meta name="description" content={description} />}

    <!-- Theme: apply before first paint (prevents flash) -->
    <script is:inline>
      (() => {
        const key = "fa-theme"; // 'light' | 'dark'
        const root = document.documentElement;

        let saved = "light";
        try {
          saved = localStorage.getItem(key) === "dark" ? "dark" : "light";
        } catch {}

        // Tailwind dark mode expects `dark` class on <html>
        root.classList.toggle("dark", saved === "dark");
      })();
    </script>
  </head>

  <body class="min-h-screen bg-white text-slate-900 antialiased dark:bg-slate-950 dark:text-slate-100">
    <!-- Global header -->
    <header class="sticky top-0 z-50 w-full border-b border-slate-200/60 bg-white/80 backdrop-blur dark:border-white/10 dark:bg-slate-950/70">
      <div class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8">
        <!-- Brand -->
        <a href="/" class="flex items-center">
          <img
            src="/assets/fulcrum-logo.png"
            alt="Fulcrum Agentics"
            width="220"
            height="48"
            class="h-12 w-auto"
            loading="eager"
            decoding="async"
          />
        </a>

        <!-- Nav -->
        <nav class="hidden items-center gap-6 md:flex">
          <a href="#features" class="text-sm text-slate-600 hover:text-slate-900 dark:text-white/75 dark:hover:text-white">
            Solutions
          </a>
          <a href="#how-it-works" class="text-sm text-slate-600 hover:text-slate-900 dark:text-white/75 dark:hover:text-white">
            How It Works
          </a>
          <a href="#pricing" class="text-sm text-slate-600 hover:text-slate-900 dark:text-white/75 dark:hover:text-white">
            Packages
          </a>
          <a href="#faq" class="text-sm text-slate-600 hover:text-slate-900 dark:text-white/75 dark:hover:text-white">
            FAQ
          </a>
        </nav>

        <!-- Right controls -->
        <div class="flex items-center gap-3">
          <ThemeSwitcher />

          <a
            href="#contact"
            class="inline-flex items-center justify-center rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-slate-800
                   dark:bg-white dark:text-slate-900 dark:hover:bg-white/90"
          >
            Book a Call
          </a>
        </div>
      </div>
    </header>

    <!-- Content -->
    <main class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8">
      <slot />
    </main>

    <!-- Footer -->
    <footer class="mx-auto mt-16 max-w-7xl border-t border-slate-200/60 px-4 py-10 text-sm text-slate-600 dark:border-white/10 dark:text-white/70 sm:px-6 lg:px-8">
      <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
        <div>
          <div class="font-medium text-slate-900 dark:text-white">Fulcrum Agentics</div>
          <div class="mt-1">
            Production-ready AI agents for ops, catalog, and workflow automation.
          </div>
        </div>
        <div class="flex gap-4">
          <a href="#features" class="hover:text-slate-900 dark:hover:text-white">Solutions</a>
          <a href="#pricing" class="hover:text-slate-900 dark:hover:text-white">Packages</a>
          <a href="#contact" class="hover:text-slate-900 dark:hover:text-white">Contact</a>
        </div>
      </div>
    </footer>

    <!-- Keep ThemeSwitcher + <html class="dark"> in sync across tabs -->
    <script is:inline>
      (() => {
        const key = "fa-theme";
        const root = document.documentElement;

        window.addEventListener("storage", (e) => {
          if (e.key !== key) return;
          const saved = e.newValue === "dark" ? "dark" : "light";
          root.classList.toggle("dark", saved === "dark");
        });
      })();
    </script>
  </body>
</html>
