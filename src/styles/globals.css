@import 'tailwindcss';

/* =========================================================
   FULCRUM AGENTICS â€” BRAND TOKENS (DAY + BLACKOUT)
   Default = Day
   Night / Blackout = prefers-color-scheme: dark OR .theme-dark
   Manual override = .theme-light / .theme-dark on <html>
   ========================================================= */

/* ---------------------------
   1) DAY TOKENS (default)
   --------------------------- */
@theme {
  /* Brand */
  --color-brand-navy: #0e1424; /* Midnight Navy */
  --color-brand-amber: #d4a24c; /* Golden Amber (accent only) */
  --color-brand-slate: #2c3659; /* Systems layer */

  /* Neutrals (Day) */
  --color-bg: #f7f8fa; /* Off-White */
  --color-surface: #ffffff; /* Cards */
  --color-surface-2: #f3f4f6; /* Panels */
  --color-border: rgba(14, 20, 36, 0.12);

  /* Text (Day) */
  --color-text: #1f2937; /* Charcoal */
  --color-text-muted: #6b7280; /* Steel Gray */
  --color-text-soft: #9ca3af; /* tertiary */

  /* Semantic */
  --color-ok: #3fa7a3; /* Teal (limited) */
  --color-warn: #b8964a; /* amber */
  --color-danger: #9b4a3c; /* Muted rust */

  /* Backward-compatible mono tokens (Day) */
  --color-mono-black: var(--color-brand-navy);
  --color-mono-darker: #121826;
  --color-mono-dark: #2f3a5a;
  --color-mono-gray: var(--color-text-muted);
  --color-mono-light: #a3a3a3;
  --color-mono-lighter: #e5e7eb;
  --color-mono-white: var(--color-surface);

  /* Typography */
  --font-sans: Geist, system-ui, -apple-system, sans-serif;

  /* Motion */
  --animate-fade-in: fade-in 1200ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-fade-up: fade-up 1400ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-fade-down: fade-down 1400ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-fade-left: fade-left 1400ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-fade-right: fade-right 1400ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-pulse-slow: pulse-slow 3500ms cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-float: float 4500ms cubic-bezier(0.45, 0, 0.55, 1) infinite;

  /* Surfaces + focus */
  --shadow-soft: 0 10px 30px rgba(14, 20, 36, 0.08);
  --ring: 0 0 0 3px rgba(212, 162, 76, 0.22);

  /* Page rhythm */
  --radius-card: 1rem; /* 16px */
}

/* =========================================================
   THEME TOGGLE (switch w/ knob)
   ========================================================= */
.theme-toggle {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: 34px;
  padding: 0 10px;
  border-radius: 999px;
  border: 1px solid var(--color-border);
  background: color-mix(in srgb, var(--color-surface) 70%, transparent);
  color: var(--color-text);
  cursor: pointer;
  user-select: none;
  transition: background 150ms ease, border-color 150ms ease, transform 150ms ease;
}

.theme-toggle:hover { transform: translateY(-1px); }
.theme-toggle:active { transform: translateY(0px); }

.theme-toggle__icon {
  font-size: 12px;
  line-height: 1;
  opacity: 0.75;
}

.theme-toggle__track {
  position: relative;
  width: 36px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid var(--color-border);
  background: color-mix(in srgb, var(--color-surface-2) 75%, transparent);
  overflow: hidden;
}

.theme-toggle__knob {
  position: absolute;
  top: 50%;
  left: 2px;
  width: 14px;
  height: 14px;
  border-radius: 999px;
  transform: translate(0, -50%);
  background: var(--color-surface);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.18);
  transition: transform 180ms cubic-bezier(0.16, 1, 0.3, 1);
}

/* When effective theme is DARK (html has theme-dark), slide knob right */
:root.theme-dark .theme-toggle__knob {
  transform: translate(18px, -50%);
}

/* Improve contrast in blackout */
:root.theme-dark .theme-toggle {
  border-color: var(--color-border);
  background: rgba(255, 255, 255, 0.06);
  color: var(--color-text);
}

:root.theme-dark .theme-toggle__track {
  background: rgba(255, 255, 255, 0.08);
}


/* =========================================================
   2) BLACKOUT TOKENS
   Applies when:
     - OS prefers dark AND no manual light override
     - OR html.theme-dark
   ========================================================= */

/* Manual DARK override always wins */
:root.theme-dark {
  --color-bg: #0b0f1a;
  --color-surface: #12182b;
  --color-surface-2: #151d33;

  --color-text: #e6e8ef;       /* soft white (default text) */
  --color-text-muted: #9aa3b2; /* secondary */
  --color-text-soft: #5f677a;  /* tertiary */

  --color-border: rgba(230, 232, 239, 0.12);

  --color-brand-amber: #b8964a;
  --color-brand-slate: #2f3a5a;

  --color-ok: #3a8f8b;
  --color-warn: #b8964a;
  --color-danger: #8a3a32;

  --color-mono-black: #0b0f1a;
  --color-mono-darker: #12182b;
  --color-mono-dark: #2f3a5a;
  --color-mono-gray: #9aa3b2;
  --color-mono-light: #5f677a;
  --color-mono-lighter: rgba(230, 232, 239, 0.18);
  --color-mono-white: #e6e8ef;

  --shadow-soft: 0 14px 40px rgba(0, 0, 0, 0.55);
  --ring: 0 0 0 3px rgba(184, 150, 74, 0.18);
}

/* Manual LIGHT override always wins */
:root.theme-light {
  --color-bg: #f7f8fa;
  --color-surface: #ffffff;
  --color-surface-2: #f3f4f6;

  --color-text: #1f2937;
  --color-text-muted: #6b7280;
  --color-text-soft: #9ca3af;

  --color-border: rgba(14, 20, 36, 0.12);

  --color-brand-amber: #d4a24c;
  --color-brand-slate: #2c3659;

  --color-ok: #3fa7a3;
  --color-warn: #b8964a;
  --color-danger: #9b4a3c;

  --shadow-soft: 0 10px 30px rgba(14, 20, 36, 0.08);
  --ring: 0 0 0 3px rgba(212, 162, 76, 0.22);
}

/* System dark (only when user didn't force light) */
@media (prefers-color-scheme: dark) {
  :root:not(.theme-light) {
    --color-bg: #0b0f1a;
    --color-surface: #12182b;
    --color-surface-2: #151d33;

    --color-text: #e6e8ef;
    --color-text-muted: #9aa3b2;
    --color-text-soft: #5f677a;

    --color-border: rgba(230, 232, 239, 0.12);

    --color-brand-amber: #b8964a;
    --color-brand-slate: #2f3a5a;

    --color-ok: #3a8f8b;
    --color-warn: #b8964a;
    --color-danger: #8a3a32;

    --color-mono-black: #0b0f1a;
    --color-mono-darker: #12182b;
    --color-mono-dark: #2f3a5a;
    --color-mono-gray: #9aa3b2;
    --color-mono-light: #5f677a;
    --color-mono-lighter: rgba(230, 232, 239, 0.18);
    --color-mono-white: #e6e8ef;

    --shadow-soft: 0 14px 40px rgba(0, 0, 0, 0.55);
    --ring: 0 0 0 3px rgba(184, 150, 74, 0.18);
  }
}

/* =========================================================
   3) BASE (global)
   ========================================================= */
:root {
  color-scheme: light dark;
}

html,
body {
  background: var(--color-bg);
  color: var(--color-text);
  font-family: var(--font-sans);
}

/* Links / focus */
a {
  color: inherit;
}
:focus-visible {
  outline: none;
  box-shadow: var(--ring);
}

/* Smooth transitions (avoid flashing) */
.transition-smooth {
  transition: all 350ms cubic-bezier(0.16, 1, 0.3, 1);
}

/* =========================================================
   4) SURFACE HELPERS (use these in markup over time)
   ========================================================= */
.fa-section {
  background: var(--color-bg);
  color: var(--color-text);
}
.fa-surface {
  background: var(--color-surface);
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-soft);
}
.fa-surface-2 {
  background: var(--color-surface-2);
  color: var(--color-text);
}
.fa-muted {
  color: var(--color-text-muted) !important;
}
.fa-soft {
  color: var(--color-text-soft) !important;
}
.fa-border {
  border-color: var(--color-border);
}

/* Token-based gradient/mesh (NO hardcoded whites) */
.mono-gradient {
  background: linear-gradient(to bottom, var(--color-surface) 0%, var(--color-bg) 100%);
}

.mono-mesh {
  background:
    radial-gradient(at 40% 20%, rgba(0, 0, 0, 0.02) 0px, transparent 50%),
    radial-gradient(at 80% 0%, rgba(0, 0, 0, 0.03) 0px, transparent 50%),
    radial-gradient(at 0% 50%, rgba(0, 0, 0, 0.02) 0px, transparent 50%),
    radial-gradient(at 80% 50%, rgba(0, 0, 0, 0.01) 0px, transparent 50%),
    radial-gradient(at 0% 100%, rgba(0, 0, 0, 0.02) 0px, transparent 50%),
    radial-gradient(at 80% 100%, rgba(0, 0, 0, 0.01) 0px, transparent 50%);
}

/* Calm mesh in blackout mode (less noise) */
@media (prefers-color-scheme: dark) {
  :root:not(.theme-light) .mono-mesh {
    background:
      radial-gradient(at 40% 20%, rgba(230, 232, 239, 0.03) 0px, transparent 55%),
      radial-gradient(at 80% 0%, rgba(184, 150, 74, 0.03) 0px, transparent 55%),
      radial-gradient(at 0% 50%, rgba(230, 232, 239, 0.02) 0px, transparent 55%),
      radial-gradient(at 80% 50%, rgba(230, 232, 239, 0.02) 0px, transparent 55%),
      radial-gradient(at 0% 100%, rgba(230, 232, 239, 0.02) 0px, transparent 55%),
      radial-gradient(at 80% 100%, rgba(230, 232, 239, 0.02) 0px, transparent 55%);
  }
}
:root.theme-dark .mono-mesh {
  background:
    radial-gradient(at 40% 20%, rgba(230, 232, 239, 0.03) 0px, transparent 55%),
    radial-gradient(at 80% 0%, rgba(184, 150, 74, 0.03) 0px, transparent 55%),
    radial-gradient(at 0% 50%, rgba(230, 232, 239, 0.02) 0px, transparent 55%),
    radial-gradient(at 80% 50%, rgba(230, 232, 239, 0.02) 0px, transparent 55%),
    radial-gradient(at 0% 100%, rgba(230, 232, 239, 0.02) 0px, transparent 55%),
    radial-gradient(at 80% 100%, rgba(230, 232, 239, 0.02) 0px, transparent 55%);
}

/* =========================================================
   5) BLACKOUT TEXT + "STOP THE BLINDING" OVERRIDES
   Goal: in dark mode, text is readable (soft white) by default.
   ========================================================= */

/* System dark (when not forced light) */
@media (prefers-color-scheme: dark) {
  :root:not(.theme-light) body {
    color: var(--color-text);
  }

  /* Make common elements readable by default */
  :root:not(.theme-light) h1,
  :root:not(.theme-light) h2,
  :root:not(.theme-light) h3,
  :root:not(.theme-light) h4,
  :root:not(.theme-light) h5,
  :root:not(.theme-light) h6,
  :root:not(.theme-light) p,
  :root:not(.theme-light) li,
  :root:not(.theme-light) span,
  :root:not(.theme-light) label,
  :root:not(.theme-light) small,
  :root:not(.theme-light) strong,
  :root:not(.theme-light) a,
  :root:not(.theme-light) button {
    color: var(--color-text);
  }

  /* Kill hard-coded white sections/cards */
  :root:not(.theme-light) .bg-white,
  :root:not(.theme-light) .bg-neutral-50,
  :root:not(.theme-light) .bg-gray-50,
  :root:not(.theme-light) .bg-slate-50,
  :root:not(.theme-light) .bg-zinc-50,
  :root:not(.theme-light) .bg-neutral-100,
  :root:not(.theme-light) .bg-gray-100,
  :root:not(.theme-light) .bg-slate-100,
  :root:not(.theme-light) .bg-zinc-100 {
    background-color: var(--color-surface) !important;
  }

  /* Fix common dark text utilities that break readability */
  :root:not(.theme-light) .text-black,
  :root:not(.theme-light) .text-neutral-950,
  :root:not(.theme-light) .text-neutral-900,
  :root:not(.theme-light) .text-gray-950,
  :root:not(.theme-light) .text-gray-900,
  :root:not(.theme-light) .text-slate-950,
  :root:not(.theme-light) .text-slate-900,
  :root:not(.theme-light) .text-zinc-950,
  :root:not(.theme-light) .text-zinc-900,
  :root:not(.theme-light) .text-neutral-800,
  :root:not(.theme-light) .text-gray-800,
  :root:not(.theme-light) .text-slate-800,
  :root:not(.theme-light) .text-zinc-800,
  :root:not(.theme-light) .text-neutral-700,
  :root:not(.theme-light) .text-gray-700,
  :root:not(.theme-light) .text-slate-700,
  :root:not(.theme-light) .text-zinc-700 {
    color: var(--color-text) !important;
  }

  /* Borders that stay too light/dark */
  :root:not(.theme-light) .border-gray-200,
  :root:not(.theme-light) .border-neutral-200,
  :root:not(.theme-light) .border-slate-200,
  :root:not(.theme-light) .border-zinc-200,
  :root:not(.theme-light) .border-gray-300,
  :root:not(.theme-light) .border-neutral-300,
  :root:not(.theme-light) .border-slate-300,
  :root:not(.theme-light) .border-zinc-300 {
    border-color: var(--color-border) !important;
  }
}

/* Manual dark override: same readability rules */
:root.theme-dark body {
  color: var(--color-text);
}

:root.theme-dark h1,
:root.theme-dark h2,
:root.theme-dark h3,
:root.theme-dark h4,
:root.theme-dark h5,
:root.theme-dark h6,
:root.theme-dark p,
:root.theme-dark li,
:root.theme-dark span,
:root.theme-dark label,
:root.theme-dark small,
:root.theme-dark strong,
:root.theme-dark a,
:root.theme-dark button {
  color: var(--color-text);
}

:root.theme-dark .bg-white,
:root.theme-dark .bg-neutral-50,
:root.theme-dark .bg-gray-50,
:root.theme-dark .bg-slate-50,
:root.theme-dark .bg-zinc-50,
:root.theme-dark .bg-neutral-100,
:root.theme-dark .bg-gray-100,
:root.theme-dark .bg-slate-100,
:root.theme-dark .bg-zinc-100 {
  background-color: var(--color-surface) !important;
}

:root.theme-dark .text-black,
:root.theme-dark .text-neutral-950,
:root.theme-dark .text-neutral-900,
:root.theme-dark .text-gray-950,
:root.theme-dark .text-gray-900,
:root.theme-dark .text-slate-950,
:root.theme-dark .text-slate-900,
:root.theme-dark .text-zinc-950,
:root.theme-dark .text-zinc-900,
:root.theme-dark .text-neutral-800,
:root.theme-dark .text-gray-800,
:root.theme-dark .text-slate-800,
:root.theme-dark .text-zinc-800,
:root.theme-dark .text-neutral-700,
:root.theme-dark .text-gray-700,
:root.theme-dark .text-slate-700,
:root.theme-dark .text-zinc-700 {
  color: var(--color-text) !important;
}

:root.theme-dark .border-gray-200,
:root.theme-dark .border-neutral-200,
:root.theme-dark .border-slate-200,
:root.theme-dark .border-zinc-200,
:root.theme-dark .border-gray-300,
:root.theme-dark .border-neutral-300,
:root.theme-dark .border-slate-300,
:root.theme-dark .border-zinc-300 {
  border-color: var(--color-border) !important;
}

/* =========================================================
   6) ANIMATIONS (unchanged)
   ========================================================= */
@keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }

@keyframes fade-up {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-down {
  from { opacity: 0; transform: translateY(-30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-left {
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes fade-right {
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-12px); }
}

@keyframes pulse-slow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.75; }
}

@keyframes slide-down {
  from { opacity: 0; max-height: 0; transform: translateY(-10px); }
  to { opacity: 1; max-height: 500px; transform: translateY(0); }
}

.fade-in { animation: var(--animate-fade-in); opacity: 0; }
.fade-up { animation: var(--animate-fade-up); opacity: 0; }
.fade-down { animation: var(--animate-fade-down); opacity: 0; }
.fade-left { animation: var(--animate-fade-left); opacity: 0; }
.fade-right { animation: var(--animate-fade-right); opacity: 0; }
.float { animation: var(--animate-float); }
.pulse-slow { animation: var(--animate-pulse-slow); }

/* Scroll transitions (unchanged) */
.scroll-fade-up {
  opacity: 0;
  transform: translateY(30px);
  transition:
    opacity 1200ms cubic-bezier(0.16, 1, 0.3, 1),
    transform 1200ms cubic-bezier(0.16, 1, 0.3, 1);
}
.scroll-fade-up.visible { opacity: 1; transform: translateY(0); }

.scroll-fade-down {
  opacity: 0;
  transform: translateY(-30px);
  transition:
    opacity 1200ms cubic-bezier(0.16, 1, 0.3, 1),
    transform 1200ms cubic-bezier(0.16, 1, 0.3, 1);
}
.scroll-fade-down.visible { opacity: 1; transform: translateY(0); }

.scroll-fade-left {
  opacity: 0;
  transform: translateX(30px);
  transition:
    opacity 1200ms cubic-bezier(0.16, 1, 0.3, 1),
    transform 1200ms cubic-bezier(0.16, 1, 0.3, 1);
}
.scroll-fade-left.visible { opacity: 1; transform: translateX(0); }

.scroll-fade-right {
  opacity: 0;
  transform: translateX(-30px);
  transition:
    opacity 1200ms cubic-bezier(0.16, 1, 0.3, 1),
    transform 1200ms cubic-bezier(0.16, 1, 0.3, 1);
}
.scroll-fade-right.visible { opacity: 1; transform: translateX(0); }

#mobileMenu {
  animation: slide-down 450ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.faq-icon {
  transition: transform 400ms cubic-bezier(0.16, 1, 0.3, 1);
}
details[open] .faq-icon { transform: rotate(180deg); }

.faq-content {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transform: translateY(-10px);
  transition:
    max-height 500ms cubic-bezier(0.16, 1, 0.3, 1),
    opacity 400ms ease,
    transform 400ms cubic-bezier(0.16, 1, 0.3, 1),
    padding 400ms ease;
}
details[open] .faq-content {
  max-height: 500px;
  opacity: 1;
  transform: translateY(0);
  padding-bottom: 1.25rem;
}

/* Stagger delays (unchanged) */
.stagger-1 { transition-delay: 100ms; }
.stagger-2 { transition-delay: 200ms; }
.stagger-3 { transition-delay: 300ms; }
.stagger-4 { transition-delay: 400ms; }
.stagger-5 { transition-delay: 500ms; }
.stagger-6 { transition-delay: 600ms; }
.stagger-7 { transition-delay: 700ms; }
.stagger-8 { transition-delay: 800ms; }
.stagger-9 { transition-delay: 900ms; }
